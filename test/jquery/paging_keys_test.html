<!DOCTYPE html>
<html class="no-touch">
<head>
  <link rel="stylesheet" href="assets/qunit.css" type="text/css" />

</head>
<body>
  <h1 id="qunit-header">QUnit: jquery/smart_keys.js</h1>
   <h2 id="qunit-banner"></h2>
   <h2 id="qunit-userAgent"></h2>
   <ol id="qunit-tests"></ol>

  
  <h1>Test Elements for smart</h1>
  <!-- Put or load sample/test html here (load via sampleLoad(file) in setup() methods) -->
  <div class="smart-section">                                                                                                                
    <h2>
      <a href="http://localhost:3000/blogs/1/2009/1/6/quia-rerum-aut-aut-sit-voluptates" class="smart-higthlight" id="post-592" rel="bookmark">Quia rerum aut aut sit voluptates</a>
    </h2>
  </div>

  <div class="smart-section">                                                                                                                
    <h2>
      <a href="http://localhost:3000/blogs/1/2008/12/28/velit-ut-eaque-ducimus-aut-et-aut-quis-autem-quisquam" class="smart-higthlight" id="post-152" rel="bookmark">Velit ut eaque ducimus aut et aut quis autem quisquam</a>
    </h2>
  </div>

  <div class="smart-section">                                                                                                                
    <h2>
      <a href="http://localhost:3000/blogs/1/2008/12/26/dolorem-voluptates-sit-id-dolores-vel" class="smart-higthlight" id="post-849" rel="bookmark">Dolorem voluptates sit id dolores vel</a>
    </h2>
  </div>

  <div class="smart-section">                                                                                                                
    <h2>
      <a href="http://localhost:3000/blogs/1/2008/12/20/molestiae-corporis-earum-enim-sapiente-temporibus-culpa-et-in" class="smart-higthlight" id="post-288" rel="bookmark">Molestiae corporis earum enim sapiente temporibus culpa et in</a>
    </h2>
  </div>

  <div class="smart-section">                                                                                                                
    <h2>
      <a href="http://localhost:3000/blogs/1/2008/12/13/et-vero-qui-cupiditate-fuga-asperiores-est" class="smart-higthlight" id="post-794" rel="bookmark">Et vero qui cupiditate fuga asperiores est</a>
    </h2>  
  </div>
  
  <div class="pagination">
    <a href="paging_keys_test.html" class="disabled previous_page">&laquo; Previous</a> 
    <span class="current">1</span> 
    <a href="" rel="next">2</a> 
    <a href="paging_keys_test.html">3</a> 
    <a href="paging_keys_test.html" class="next_page" rel="next">Next &raquo;</a>
  </div>
  
  <div id="smart-key-nav">
    <a onclick="smartKeys.moveToItem(1); return false;" href="javascript:void(0);">next (j)</a> |
    <a onclick="smartKeys.moveToItem(-1); return false;" href="javascript:void(0);">prev (k)</a> |
    <a onclick="smartKeys.movePage(1); return false;" href="javascript:void(0);">page next (h)</a> |
    <a onclick="smartKeys.movePage(-1); return false;" href="javascript:void(0);">page prev (l)</a> 
  </div>

    <script type="text/javascript">
    //if('__proto__' in {}) {
    //  document.write('<script src="../javascripts/zepto/zepto.js" type="text/javascript"><\/script>');
    //  document.write('<script src="../javascripts/zepto/zepto-extra.js" type="text/javascript"><\/script>');
    //} else {
      document.write('<script src="../../javascripts/jquery/jquery.js" type="text/javascript"><\/script>');
      document.write('<script src="../../javascripts/jquery/jquery-browser-support.js" type="text/javascript"><\/script>');
    //}
  </script>
  <script src="../../javascripts/hotkey.js" type="text/javascript"></script>
  <script src="../../javascripts/smart_keys.js" type="text/javascript"></script>
  
  <script src="assets/qunit.js" type="text/javascript"></script>


  <script>
    $(document).ready(function(){
      
      
      test("test item map built", function() {
      
        equals(SmartKeys.item_map.length, 5);
        equals(SmartKeys.item_map[0].id, 'post-592');
        equals(SmartKeys.item_map[1].id, 'post-152');
        equals(SmartKeys.item_map[2].id, 'post-849');
        equals(SmartKeys.item_map[3].id, 'post-288');
        equals(SmartKeys.item_map[4].id, 'post-794');
      
        ok(SmartKeys.item_map[0].y > 0);
        ok(SmartKeys.item_map[1].y > 0);
        ok(SmartKeys.item_map[2].y > 0);
        ok(SmartKeys.item_map[3].y > 0);
        ok(SmartKeys.item_map[4].y > 0);
      });
      
      test("test current item", function() {
        SmartKeys.moveToItem(1);

        equals(SmartKeys.currentItem(), SmartKeys.item_map[0]);
      });  
      
      test('test pagination elements exist', function() {
        equals(($('.next_page')[0].href.length > 0), true);
        equals(($('.previous_page')[0].href.length > 0), true);
        equals($('.smart-section .smart-higthlight').length, 5);
      });

      test('test moveToItem', function() {
        SmartKeys.moveToItem(1);
        equals(SmartKeys.currentItem(), SmartKeys.item_map[1]);

        SmartKeys.moveToItem(1);
        equals(SmartKeys.currentItem(), SmartKeys.item_map[2]);

        SmartKeys.moveToItem(-1);
        equals(SmartKeys.currentItem(), SmartKeys.item_map[1]);
      });
      
      test('test moveToItem top/bottom', function() {
        SmartKeys.moveToItem(1, SmartKeys.item_map[3]);
        equals(SmartKeys.currentItem(), SmartKeys.item_map[3]);

        SmartKeys.movePage(-1);
        equals(SmartKeys.currentItem(), SmartKeys.item_map[0]);

        //SmartKeys.movePage(1);
        //equals(SmartKeys.currentItem(), SmartKeys.item_map[4]);
      });
    });
  </script>
  
</body>
</html>
